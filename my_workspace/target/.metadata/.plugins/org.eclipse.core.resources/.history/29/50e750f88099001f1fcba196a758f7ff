/*
 * 001led_toggle.c
 *
 *  Created on: Nov 2, 2024
 *      Author: kunfu
 */
#include "stm32l4xx.h"

void delay(void)
{
	for (uint32_t i = 0; i < 5000000; i++);
}

int main(void)
{
	RCC->AHB2ENR |= (1 << 0);  // Enable GPIOA clock

	    // 2. Configure PA5 as output
	    GPIOA->MODER &= ~(0x3 << (0 * 2));  // Clear mode bits for PA5
	    GPIOA->MODER |= (0x1 << (0 * 2));   // Set PA5 as output mode (01)

	    // 3. Toggle PA5 in a loop
	    while (1) {
	        GPIOA->ODR ^= (1 << 0);  // Toggle PA5
	        delay();
	    }

	    return 0;
}
