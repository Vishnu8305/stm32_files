/*
 * 001led_toggle.c
 *
 *  Created on: Nov 2, 2024
 *      Author: kunfu
 */
#include "stm32l4xx.h"

void delay(void)
{
	for (uint32_t i = 0; i < 5000000; i++);
}

int main(void)
{
	// Configure PA5 as output
	RCC->AHB2ENR |= (1 << 0);             // Enable GPIOA clock
	GPIOA->MODER &= ~(0x3 << (5 * 2));    // Clear mode bits for PA5
	GPIOA->MODER |= (0x1 << (5 * 2));     // Set PA5 as output (01)

	// Turn LED on and off directly
	while (1) {
	    GPIOA->ODR |= (1 << 5);   // Set PA5 high (LED ON)
	    for (uint32_t i = 0; i < 500000; i++);  // Delay

	    GPIOA->ODR &= ~(1 << 5);  // Set PA5 low (LED OFF)
	    for (uint32_t i = 0; i < 500000; i++);  // Delay
	}


	    return 0;
}
